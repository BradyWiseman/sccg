<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spring Creek Garden</title>
</head>
<body>
	<h1>Spring Creek Garden Data Monitor</h1>
	<p>Sunken greenhouse temp: <span id="sunkenghtemp">--</span> 째F</p>
	<p>Sunken greenhouse fan: <span id="sunkenghfan">--</span> </p>
	<p>Sunken greenhouse vent: <span id="sunkenghvent">--</span> % Open</p>			    
   <p>Little greenhouse temp: <span id="littleghtemp">--</span> 째F</p>
   <p>Little greenhouse fan: <span id="littleghfan">--</span> </p>
   <p>Little greenhouse vent: <span id="littleghvent">--</span> </p>
   <p>Hoop greenhouse temp: <span id="hoopghtemp">--</span> 째F</p>
   <p>Hoop greenhouse humidity: <span id="hoopghrh">--</span> %</p>
   <p>Pump house temp: <span id="pumptemp">--</span> 째F</p>
   <p>Pump pressure: <span id="pumppressure">--</span> PSI</p>
   <p>Pump flow: <span id="pumpflow">--</span> GPM</p>
   <p>Pump 1: <span id="pump1">--</span> </p>
   <p>Pump 2: <span id="pump2">--</span> </p>	
   <p>Page updates: <span id="pageUpdates">--</span> </p>
   <p><span id="ErrorMessage"> </span></p>

   <script>
	   var pageCount = 0;
	   async function updateValues() {
   	   try {
      	    const response = await fetch('data');
            const Data = await response.json();
            document.getElementById('hoopghtemp').textContent = Data.hoopghtemp;
            document.getElementById('hoopghrh').textContent = Data.hoopghrh;
            document.getElementById('sunkenghtemp').textContent = Data.sunkenghtemp;
				document.getElementById('littleghtemp').textContent = Data.littleghtemp;
				document.getElementById('pumptemp').textContent = Data.pumptemp;
				document.getElementById('pumppressure').textContent = Data.pumppressure;
				document.getElementById('pumpflow').textContent = Data.pumpflow;
				document.getElementById('pump1').textContent = Data.pump1;
				document.getElementById('pump2').textContent = Data.pump2;
				document.getElementById('sunkenghfan').textContent = Data.sunkenghfan;
				document.getElementById('sunkenghvent').textContent = Data.sunkenghvent;
				document.getElementById('littleghfan').textContent = Data.littleghfan;
				document.getElementById('littleghvent').textContent = Data.littleghvent;
		                document.getElementById('pageUpdates').textContent = pageCount;

		} catch (error) {
		 document.getElementById('ErrorMessage').textContent = error;
        	 console.error("Error fetching data:", error);
                 }
		pageCount++;
             }
      <!--count = 0; -->
      updateValues(); // Initial fetch
      setInterval(updateValues, 5000); // Refresh every 5 seconds
    </script>
</body>
</html>

